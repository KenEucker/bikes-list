<html>
  <head>
    <title>Future</title>
    <style type="text/css">
      dt { font: Courier, Fixed; font-weight: bold; padding-top: 0.5em; }
    </style>
  </head>
  <body>
    <h1>Future of the Shift Calendar</h1>
    This document explains (vaguely) some ideas for things I'd like to
    change about the calendar some day.
    <dl>
      <dt>Make "exceptions" easier.
      <dd>The current "exception" mechanism (to allow individual instances
	  of a repeating event to vary) is versatile but so complex that
	  nobody uses it.  Instead, the organizers of repeating events just
	  change the entire repeating event for all time... every month.
	  <p>
	  To make it easier, I'd like to make the event form detect when
	  an organizer changes a repeating event instead of making an
	  exception, and then use a pop-up to ask whether they want to
	  (a) change the event forever, (b) change only the next instance
	  of the event, or (c) continue editing the form.  Maybe also add
	  an option for changing the instances during Pedalpalooza.

      <dt>Replace the constants with easily-editable options
      <dd>This should make porting the calendar to a new website much easier.
          <p>
          I've started coding this already.  I have a page that reads a
          list of option defaults and their descriptions from one file,
          and a list of localized option values from another file, and
          allows the calendar administrator to interactively edit the
          values.  What I have <strong>not</strong> done yet is modify
          the pages to use the options instead of the constants.

      <dt>Support color themes
      <dd>This is pretty much the other half of what will make the calendar
          easier to port.  Instead of embedding colors and background images
          in the PHP pages, I'll need to lift them out to a CSS file, and
          then eventually develop a whole series of alternative CSS files
          that can be dropped in.

      <dt>Add a way to tag holidays
      <dd>For the Pedalpalooza view (currently "viewpp2013.php"), I hardcode
	  little icons in the weekly grid, on days when some other major event
	  is happening such as the Rose Festival Grand Floral Parade, Fathers'
	  Day, and Flag Day.  This is mostly so people can schedule around them,
	  or do something special for them.  I'd like to generalize this to all
	  days, and make it be driven by an easily edited table instead of
	  hardcoded.

      <dt>Add optional group accounts
      <dd>This is an idea for a totally new feature.  Each cycling club
          or community group could create an account on the calendar to
          help it manage its events.  When a group administrator logs in,
          they'd see a list of the group's events with editing links next
          to each one.  They could also add new events, in which case the
          image would default to the group's logo and the contact
          information would also be preloaded, making the event easier
          to add.

      <dt>Allow a new event to be modeled after an older one
      <dd>I've had requests for this.  Often, a group will have many
          similar rides, but not on a regular schedule.  For example,
          maybe they lead a camping trip to the same campground whenever
          there's a 3-day weekend.  It'd be nice if they could add the
          next event by using a previous one as a model -- everything
          would be copied except the date, and then the organizer could
          still edit anything.

      <dt>Support festivals such as Pedalpalooza as meta-events
      <dd>Pedalpalooza, as currently implemented, uses constants or options
	  to define a single event for the year, requires those
	  constants/options to be updated every year (making the previous
	  year's version be problematic), and requires a custom PHP page
	  for each year.
          <p>
	  I'd like to replace that with a meta-event.  These would be similar
	  to normal events, e.g. we'd define something called "Pedalpalooza"
	  for the dates "June 6-20, 2013".  Use its poster image.  Maybe have
	  a small collection of page formats that adjust to the date range of
	  the event and a few other things.  For Pedalpalooza, the long
	  description would be shown at the top of the page, next to the image.
	  <p>
	  It'd need some added features: a submission deadline, a "private"
	  flag that only lets the owner add events to it, a "major event"
	  flag that adds a button to the normal calendar for going to it
	  (and would also affect the NavBar too, I guess).

      <dt>Allow the date specification to include a year
      <dd>Lack of a year prevents users from defining events more than 1 year
	  in the future.  It also makes the "holiday" and "meta-event" things
	  harder to implement.

    </dl>
  </body>
</html>

